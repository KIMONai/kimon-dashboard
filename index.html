<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kimon Dashboard</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: #000;
            color: #fff;
            overflow-x: hidden;
        }

        /* Navigation */
        .nav {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            z-index: 100;
            background: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(20px);
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .nav-container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 2rem;
            display: flex;
            align-items: center;
            height: 80px;
        }

        .logo {
            font-size: 24px;
            font-weight: 600;
            color: #fff;
            margin-right: 3rem;
        }

        .nav-items {
            display: flex;
            gap: 2rem;
        }

        .nav-item {
            padding: 0.5rem 1rem;
            color: rgba(255, 255, 255, 0.7);
            text-decoration: none;
            border-radius: 8px;
            transition: all 0.3s ease;
            position: relative;
        }

        .nav-item.active {
            color: #fff;
            background: rgba(255, 255, 255, 0.1);
        }

        .nav-item:hover {
            color: #fff;
            background: rgba(255, 255, 255, 0.05);
        }

        /* Main Content */
        .main {
            margin-top: 80px;
            padding: 3rem 2rem;
            max-width: 1400px;
            margin-left: auto;
            margin-right: auto;
        }

        /* Hero Section */
        .hero {
            text-align: center;
            margin-bottom: 4rem;
        }

        .hero h1 {
            font-size: 3rem;
            font-weight: 300;
            margin-bottom: 1rem;
            background: linear-gradient(135deg, #fff 0%, rgba(255,255,255,0.7) 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .hero p {
            font-size: 1.2rem;
            color: rgba(255, 255, 255, 0.6);
            max-width: 600px;
            margin: 0 auto;
        }

        /* Stats Grid */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 2rem;
            margin-bottom: 4rem;
        }

        .stat-card {
            background: rgba(255, 255, 255, 0.03);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 16px;
            padding: 2rem;
            backdrop-filter: blur(10px);
            transition: all 0.3s ease;
        }

        .stat-card:hover {
            background: rgba(255, 255, 255, 0.05);
            border-color: rgba(255, 255, 255, 0.2);
            transform: translateY(-2px);
        }

        .stat-number {
            font-size: 2.5rem;
            font-weight: 600;
            margin-bottom: 0.5rem;
            color: #fff;
        }

        .stat-label {
            color: rgba(255, 255, 255, 0.7);
            font-size: 0.9rem;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .stat-change {
            font-size: 0.8rem;
            margin-top: 0.5rem;
            color: #4ade80;
        }

        /* Live Activity */
        .live-section {
            margin-bottom: 4rem;
        }

        .section-title {
            font-size: 1.5rem;
            font-weight: 500;
            margin-bottom: 2rem;
            color: #fff;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .live-indicator {
            width: 8px;
            height: 8px;
            background: #ef4444;
            border-radius: 50%;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }

        .activity-feed {
            background: rgba(255, 255, 255, 0.02);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 16px;
            overflow: hidden;
        }

        .activity-item {
            padding: 1.5rem 2rem;
            border-bottom: 1px solid rgba(255, 255, 255, 0.05);
            display: flex;
            align-items: center;
            gap: 1rem;
            animation: slideIn 0.5s ease;
        }

        .activity-item:last-child {
            border-bottom: none;
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateX(-20px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        .activity-icon {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem;
            flex-shrink: 0;
        }

        .activity-icon.calling {
            background: rgba(34, 197, 94, 0.2);
            color: #22c55e;
        }

        .activity-icon.scheduling {
            background: rgba(59, 130, 246, 0.2);
            color: #3b82f6;
        }

        .activity-icon.waiting {
            background: rgba(245, 158, 11, 0.2);
            color: #f59e0b;
        }

        .activity-content {
            flex: 1;
        }

        .activity-title {
            font-weight: 500;
            margin-bottom: 0.25rem;
        }

        .activity-subtitle {
            color: rgba(255, 255, 255, 0.6);
            font-size: 0.9rem;
        }

        .activity-time {
            color: rgba(255, 255, 255, 0.4);
            font-size: 0.8rem;
        }

        /* Process Flow */
        .process-flow {
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: rgba(255, 255, 255, 0.02);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 16px;
            padding: 2rem;
            margin-bottom: 4rem;
        }

        .process-step {
            text-align: center;
            flex: 1;
            position: relative;
        }

        .process-step:not(:last-child)::after {
            content: '';
            position: absolute;
            top: 20px;
            right: -50%;
            width: 100%;
            height: 2px;
            background: linear-gradient(90deg, rgba(255,255,255,0.3) 0%, rgba(255,255,255,0.1) 100%);
        }

        .process-icon {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.1);
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 1rem;
            font-size: 1.2rem;
        }

        .process-step.active .process-icon {
            background: #3b82f6;
            color: #fff;
        }

        .process-title {
            font-size: 0.9rem;
            font-weight: 500;
            margin-bottom: 0.5rem;
        }

        .process-subtitle {
            font-size: 0.8rem;
            color: rgba(255, 255, 255, 0.6);
        }

        /* Animations */
        .animate-fade-in {
            opacity: 0;
            animation: fadeIn 0.8s ease forwards;
        }

        .animate-slide-up {
            opacity: 0;
            transform: translateY(30px);
            animation: slideUp 0.6s ease forwards;
        }

        .animate-slide-in {
            opacity: 0;
            transform: translateX(-30px);
            animation: slideInLeft 0.6s ease forwards;
        }

        @keyframes fadeIn {
            to {
                opacity: 1;
            }
        }

        @keyframes slideUp {
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes slideInLeft {
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        /* Outbound Feed Styles */
        .outbound-feed {
            background: rgba(255, 255, 255, 0.02);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 16px;
            overflow: hidden;
        }

        .outbound-item {
            padding: 1.5rem 2rem;
            border-bottom: 1px solid rgba(255, 255, 255, 0.05);
            display: flex;
            align-items: center;
            gap: 1rem;
            animation: slideIn 0.5s ease;
            transition: all 0.3s ease;
        }

        .outbound-item:last-child {
            border-bottom: none;
        }

        .outbound-item.success {
            background: rgba(34, 197, 94, 0.1);
            border-left: 3px solid #22c55e;
        }

        .outbound-item.busy {
            background: rgba(245, 158, 11, 0.1);
            border-left: 3px solid #f59e0b;
        }

        .outbound-item.no-answer {
            background: rgba(239, 68, 68, 0.1);
            border-left: 3px solid #ef4444;
        }

        .outbound-item.calling {
            background: rgba(59, 130, 246, 0.1);
            border-left: 3px solid #3b82f6;
            animation: pulse-border 2s infinite;
        }

        @keyframes pulse-border {
            0%, 100% {
                border-left-color: #3b82f6;
            }
            50% {
                border-left-color: #60a5fa;
            }
        }

        .outbound-status {
            padding: 0.25rem 0.75rem;
            border-radius: 12px;
            font-size: 0.8rem;
            font-weight: 500;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .outbound-status.success {
            background: rgba(34, 197, 94, 0.2);
            color: #22c55e;
        }

        .outbound-status.busy {
            background: rgba(245, 158, 11, 0.2);
            color: #f59e0b;
        }

        .outbound-status.no-answer {
            background: rgba(239, 68, 68, 0.2);
            color: #ef4444;
        }

        .outbound-status.calling {
            background: rgba(59, 130, 246, 0.2);
            color: #3b82f6;
        }

        .conversation-details {
            margin-top: 0.5rem;
            padding: 0.75rem;
            background: rgba(255, 255, 255, 0.03);
            border-radius: 8px;
            font-size: 0.9rem;
            color: rgba(255, 255, 255, 0.8);
        }

        .phone-blur {
            filter: blur(3px);
            transition: filter 0.3s ease;
        }

        .phone-blur:hover {
            filter: blur(0px);
        }

        /* Responsive */
        @media (max-width: 768px) {
            .nav-container {
                padding: 0 1rem;
            }

            .nav-items {
                gap: 1rem;
            }

            .main {
                padding: 2rem 1rem;
            }

            .hero h1 {
                font-size: 2rem;
            }

            .stats-grid {
                grid-template-columns: 1fr;
            }

            .process-flow {
                flex-direction: column;
                gap: 2rem;
            }

            .process-step:not(:last-child)::after {
                display: none;
            }
        }
    </style>
</head>
<body>
    <nav class="nav">
        <div class="nav-container">
            <div class="logo">Kimon</div>
            <div class="nav-items">
                <a href="#" class="nav-item active">Dashboard</a>
                <a href="#" class="nav-item">Outbound</a>
                <a href="#" class="nav-item">Customization</a>
                <a href="#" class="nav-item">Stats</a>
            </div>
        </div>
    </nav>

    <main class="main">
        <section class="hero">
            <h1>Intelligente Terminverwaltung</h1>
            <p>KI ruft automatisch wartende Patienten an, sobald ein Termin frei wird – nahtlos und effizient</p>
        </section>

        <section class="stats-grid">
            <div class="stat-card">
                <div class="stat-number" id="activeCallsCount">3</div>
                <div class="stat-label">Aktive Anrufe</div>
                <div class="stat-change">+2 in letzten 5 Min</div>
            </div>
            <div class="stat-card">
                <div class="stat-number" id="waitingPatientsCount">17</div>
                <div class="stat-label">Wartende Patienten</div>
                <div class="stat-change">-5 heute vermittelt</div>
            </div>
            <div class="stat-card">
                <div class="stat-number" id="filledSlotsCount">12</div>
                <div class="stat-label">Heute gefüllte Slots</div>
                <div class="stat-change">+8 vs. gestern</div>
            </div>
            <div class="stat-card">
                <div class="stat-number" id="successRateCount">94%</div>
                <div class="stat-label">Erfolgsquote</div>
                <div class="stat-change">+2% diese Woche</div>
            </div>
        </section>

        <section class="process-flow">
            <div class="process-step active">
                <div class="process-icon">📅</div>
                <div class="process-title">Absage erkannt</div>
                <div class="process-subtitle">Termin wird frei</div>
            </div>
            <div class="process-step active">
                <div class="process-icon">🔍</div>
                <div class="process-title">Patient gefunden</div>
                <div class="process-subtitle">Warteliste durchsucht</div>
            </div>
            <div class="process-step active">
                <div class="process-icon">📞</div>
                <div class="process-title">Anruf läuft</div>
                <div class="process-subtitle">KI kontaktiert Patient</div>
            </div>
            <div class="process-step">
                <div class="process-icon">✅</div>
                <div class="process-title">Termin bestätigt</div>
                <div class="process-subtitle">Slot erfolgreich gefüllt</div>
            </div>
        </section>

        <section class="live-section">
            <h2 class="section-title">
                <span class="live-indicator"></span>
                Live Activity
            </h2>
            <div class="activity-feed" id="activityFeed">
                <div class="activity-item">
                    <div class="activity-icon calling">📞</div>
                    <div class="activity-content">
                        <div class="activity-title">Anna Weber wird angerufen</div>
                        <div class="activity-subtitle">Freier Slot: Heute 14:30 • Dr. Müller</div>
                    </div>
                    <div class="activity-time">vor 12s</div>
                </div>
                <div class="activity-item">
                    <div class="activity-icon scheduling">📅</div>
                    <div class="activity-content">
                        <div class="activity-title">Termin bestätigt</div>
                        <div class="activity-subtitle">Klaus Richter • Morgen 09:15</div>
                    </div>
                    <div class="activity-time">vor 1m</div>
                </div>
                <div class="activity-item">
                    <div class="activity-icon waiting">⏳</div>
                    <div class="activity-content">
                        <div class="activity-title">Neuer Patient auf Warteliste</div>
                        <div class="activity-subtitle">Maria Schmidt • Präferenz: Nachmittags</div>
                    </div>
                    <div class="activity-time">vor 3m</div>
                </div>
                <div class="activity-item">
                    <div class="activity-icon calling">📞</div>
                    <div class="activity-content">
                        <div class="activity-title">Erfolgreich vermittelt</div>
                        <div class="activity-subtitle">Thomas Klein • Heute 16:00 bestätigt</div>
                    </div>
                    <div class="activity-time">vor 7m</div>
                </div>
            </div>
        </section>
    </main>

    <script>
        // Live Updates Simulation
        const activities = [
            {
                icon: 'calling',
                emoji: '📞',
                title: 'Neuer Anruf gestartet',
                subtitle: 'Patient: Sarah Becker • Slot: Heute 15:45'
            },
            {
                icon: 'scheduling',
                emoji: '📅',
                title: 'Termin erfolgreich gebucht',
                subtitle: 'Michael Wagner • Morgen 11:30'
            },
            {
                icon: 'waiting',
                emoji: '⏳',
                title: 'Patient zur Warteliste hinzugefügt',
                subtitle: 'Lisa Hoffmann • Bevorzugt: Vormittags'
            },
            {
                icon: 'calling',
                emoji: '📞',
                title: 'Rückruf erfolgreich',
                subtitle: 'Peter Schulz hat Termin bestätigt'
            }
        ];

        function addActivity() {
            const feed = document.getElementById('activityFeed');
            const activity = activities[Math.floor(Math.random() * activities.length)];
            
            const item = document.createElement('div');
            item.className = 'activity-item';
            item.innerHTML = `
                <div class="activity-icon ${activity.icon}">${activity.emoji}</div>
                <div class="activity-content">
                    <div class="activity-title">${activity.title}</div>
                    <div class="activity-subtitle">${activity.subtitle}</div>
                </div>
                <div class="activity-time">gerade eben</div>
            `;
            
            feed.insertBefore(item, feed.firstChild);
            
            // Remove old items (keep max 6)
            while (feed.children.length > 6) {
                feed.removeChild(feed.lastChild);
            }
            
            // Update time stamps
            updateTimeStamps();
        }

        function updateTimeStamps() {
            const items = document.querySelectorAll('.activity-time');
            items.forEach((item, index) => {
                const times = ['gerade eben', 'vor 1m', 'vor 3m', 'vor 5m', 'vor 8m', 'vor 12m'];
                if (times[index]) {
                    item.textContent = times[index];
                }
            });
        }

        // Blur phone number after +49
        function blurPhoneNumber(phoneNumber) {
            if (phoneNumber.startsWith('+49')) {
                const prefix = '+49';
                const rest = phoneNumber.substring(3);
                const blurred = rest.replace(/./g, '●');
                return `${prefix}<span class="phone-blur">${blurred}</span>`;
            }
            return phoneNumber;
        }

        // Animated counter function
        function animateCounter(element, targetValue, duration = 2000) {
            const startValue = 0;
            const startTime = performance.now();
            
            // Extract number from target (handle percentages, currency, etc.)
            let numericTarget = targetValue;
            let prefix = '';
            let suffix = '';
            
            if (typeof targetValue === 'string') {
                // Handle percentages
                if (targetValue.includes('%')) {
                    numericTarget = parseFloat(targetValue.replace('%', ''));
                    suffix = '%';
                }
                // Handle currency
                else if (targetValue.includes('€')) {
                    numericTarget = parseFloat(targetValue.replace('€', '').replace(',', ''));
                    prefix = '€';
                }
                // Handle time values like "1.8s"
                else if (targetValue.includes('s')) {
                    numericTarget = parseFloat(targetValue.replace('s', ''));
                    suffix = 's';
                }
                // Handle comma-separated numbers
                else if (targetValue.includes(',')) {
                    numericTarget = parseFloat(targetValue.replace(',', ''));
                }
                // Handle regular numbers
                else {
                    numericTarget = parseFloat(targetValue) || 0;
                }
            }
            
            function updateCounter(currentTime) {
                const elapsed = currentTime - startTime;
                const progress = Math.min(elapsed / duration, 1);
                
                // Easing function for smooth animation
                const easeOutQuart = 1 - Math.pow(1 - progress, 4);
                const currentValue = startValue + (numericTarget - startValue) * easeOutQuart;
                
                // Format the number based on original format
                let displayValue;
                if (numericTarget >= 1000) {
                    displayValue = Math.floor(currentValue).toLocaleString('de-DE');
                } else if (suffix === 's' || suffix === '%') {
                    displayValue = currentValue.toFixed(1);
                } else {
                    displayValue = Math.floor(currentValue);
                }
                
                element.textContent = prefix + displayValue + suffix;
                
                if (progress < 1) {
                    requestAnimationFrame(updateCounter);
                }
            }
            
            requestAnimationFrame(updateCounter);
        }

        // Animate all stat numbers on page load or change
        function animateAllStats() {
            setTimeout(() => {
                document.querySelectorAll('.stat-number').forEach((element, index) => {
                    const targetValue = element.getAttribute('data-target') || element.textContent;
                    element.setAttribute('data-target', targetValue);
                    element.textContent = '0';
                    
                    setTimeout(() => {
                        animateCounter(element, targetValue, 2000);
                    }, index * 200); // Stagger animations
                });
            }, 300);
        }

        function updateStats() {
            // Simulate live stat updates
            const stats = {
                activeCallsCount: Math.floor(Math.random() * 5) + 1,
                waitingPatientsCount: Math.floor(Math.random() * 10) + 15,
                filledSlotsCount: Math.floor(Math.random() * 5) + 10,
            };
            
            Object.keys(stats).forEach(key => {
                const element = document.getElementById(key);
                if (element) {
                    element.textContent = stats[key];
                }
            });
        }

        // Outbound Animations
        function startOutboundAnimations() {
            const names = [
                'Anna Weber', 'Klaus Richter', 'Maria Schmidt', 'Thomas Klein', 'Sarah Becker',
                'Michael Wagner', 'Lisa Hoffmann', 'Peter Schulz', 'Julia Meier', 'Stefan Braun',
                'Nicole Fischer', 'Martin Koch', 'Sandra Wolf', 'Daniel Richter', 'Petra Neumann',
                'Andreas Seidel', 'Sabine Krüger', 'Markus Lehmann', 'Claudia Bauer', 'Jörg Zimmermann',
                'Monika Hartmann', 'Ralf Schmitt', 'Birgit Lange', 'Uwe Köhler', 'Ingrid Scholz',
                'Frank Möller', 'Karin Winkler', 'Dirk Krause', 'Heike Schröder', 'Torsten Huber'
            ];

            const phoneNumbers = [
                '+49 30 1234567', '+49 160 9876543', '+49 221 5554321', '+49 89 7778888', '+49 40 3332222',
                '+49 711 9998877', '+49 69 1112233', '+49 201 4445566', '+49 511 7778899', '+49 351 2223344',
                '+49 421 5556677', '+49 231 8889900', '+49 341 1234567', '+49 521 9876543', '+49 611 5554321',
                '+49 721 7778888', '+49 821 3332222', '+49 931 9998877', '+49 621 1112233', '+49 541 4445566',
                '+49 431 7778899', '+49 381 2223344', '+49 471 5556677', '+49 561 8889900', '+49 681 1234567',
                '+49 781 9876543', '+49 881 5554321', '+49 981 7778888', '+49 371 3332222', '+49 461 9998877'
            ];

            const statusOptions = [
                // Mehr erfolgreiche Anrufe (70% grün) - viele "Termin neu belegt"
                { status: 'success', statusText: 'Termin neu belegt', icon: '✓', conversation: 'Freigewordener Slot heute 14:30 erfolgreich neu vergeben.' },
                { status: 'success', statusText: 'Termin neu belegt', icon: '✓', conversation: 'Abgesagter Termin morgen 16:00 sofort neu besetzt.' },
                { status: 'success', statusText: 'Termin neu belegt', icon: '✓', conversation: 'Kurzfristig freier Slot Donnerstag 11:15 vergeben.' },
                { status: 'success', statusText: 'Termin neu belegt', icon: '✓', conversation: 'Wartender Patient für heute 15:45 eingeteilt.' },
                { status: 'success', statusText: 'Termin bestätigt', icon: '✓', conversation: 'Termin für Donnerstag 16:00 bestätigt. Alles geklärt.' },
                { status: 'success', statusText: 'Termin verschoben', icon: '✓', conversation: 'Termin auf nächste Woche verschoben. Bestätigung erhalten.' },
                { status: 'success', statusText: 'Rückruf vereinbart', icon: '✓', conversation: 'Patient ruft morgen um 10:00 zurück für Terminabsprache.' },
                { status: 'success', statusText: 'Termin neu belegt', icon: '✓', conversation: 'Freier Slot Freitag 09:30 an wartenden Patienten vergeben.' },
                // Weniger laufende Anrufe (20%)
                { status: 'calling', statusText: 'Anruf läuft', icon: '●', conversation: null },
                { status: 'calling', statusText: 'Verbindung wird aufgebaut', icon: '●', conversation: null },
                // Weniger problematische Anrufe (10%)
                { status: 'busy', statusText: 'Besetzt', icon: '◐', conversation: 'Mailbox erreicht. Automatischer Rückruf in 1 Stunde.' },
                { status: 'busy', statusText: 'Mailbox', icon: '◐', conversation: 'Nachricht hinterlassen. Patient wird zurückrufen.' }
            ];

            const outboundCalls = [];
            for (let i = 0; i < 30; i++) {
                const statusOption = statusOptions[Math.floor(Math.random() * statusOptions.length)];
                outboundCalls.push({
                    name: names[i],
                    phone: phoneNumbers[i],
                    status: statusOption.status,
                    statusText: statusOption.statusText,
                    conversation: statusOption.conversation,
                    icon: statusOption.icon
                });
            }

            const feed = document.getElementById('outboundFeed');
            if (!feed) {
                console.log('outboundFeed element not found');
                return;
            }

            // Füge Anrufe mit schnelleren zeitlichen Abständen hinzu
            outboundCalls.forEach((call, index) => {
                setTimeout(() => {
                    addOutboundCall(call, feed);
                }, index * 300); // 300ms Abstand zwischen Anrufen (schneller)
            });

            // Simuliere Status-Updates für laufende Anrufe
            setTimeout(() => {
                updateCallStatus();
            }, 3000); // Früher starten
        }

        function addOutboundCall(call, feed) {
            const item = document.createElement('div');
            item.className = `outbound-item ${call.status}`;
            item.innerHTML = `
                <div class="activity-icon ${call.status}">${call.icon}</div>
                <div class="activity-content">
                    <div class="activity-title">${call.name}</div>
                    <div class="activity-subtitle">${blurPhoneNumber(call.phone)}</div>
                    ${call.conversation ? `<div class="conversation-details">"${call.conversation}"</div>` : ''}
                </div>
                <div class="outbound-status ${call.status}">${call.statusText}</div>
            `;
            
            feed.appendChild(item);

            // Entferne alte Items (max 3 Anrufe gleichzeitig)
            while (feed.children.length > 3) {
                feed.removeChild(feed.firstChild);
            }
        }

        function updateCallStatus() {
            const callingItems = document.querySelectorAll('.outbound-item.calling');
            callingItems.forEach((item, index) => {
                setTimeout(() => {
                    const outcomes = [
                        {
                            status: 'success',
                            statusText: 'Termin neu belegt',
                            conversation: 'Freigewordener Slot heute 16:15 erfolgreich an wartenden Patienten vergeben.',
                            icon: '✓'
                        },
                        {
                            status: 'success',
                            statusText: 'Termin neu belegt',
                            conversation: 'Kurzfristig abgesagter Termin morgen 10:45 sofort neu besetzt.',
                            icon: '✓'
                        },
                        {
                            status: 'success',
                            statusText: 'Termin bestätigt',
                            conversation: 'Termin für morgen 15:30 bestätigt. Patient ist informiert.',
                            icon: '✓'
                        },
                        {
                            status: 'busy',
                            statusText: 'Besetzt',
                            conversation: 'Mailbox erreicht. Automatischer Rückruf in 1 Stunde.',
                            icon: '◐'
                        }
                    ];
                    
                    const outcome = outcomes[Math.floor(Math.random() * outcomes.length)];
                    
                    // Update Status
                    item.className = `outbound-item ${outcome.status}`;
                    item.querySelector('.activity-icon').textContent = outcome.icon;
                    item.querySelector('.outbound-status').textContent = outcome.statusText;
                    item.querySelector('.outbound-status').className = `outbound-status ${outcome.status}`;
                    
                    // Füge Gesprächsdetails hinzu
                    const content = item.querySelector('.activity-content');
                    if (!content.querySelector('.conversation-details')) {
                        const details = document.createElement('div');
                        details.className = 'conversation-details';
                        details.textContent = `"${outcome.conversation}"`;
                        content.appendChild(details);
                    }
                }, index * 2000);
            });
        }

        // Start live updates
        setInterval(addActivity, 8000); // New activity every 8 seconds
        setInterval(updateStats, 12000); // Update stats every 12 seconds
        setInterval(updateTimeStamps, 60000); // Update timestamps every minute
        
        // Animate stats on initial page load
        animateAllStats();
        
        // Check if Outbound is active on page load
        document.addEventListener('DOMContentLoaded', () => {
            const activeNav = document.querySelector('.nav-item.active');
            if (activeNav && activeNav.textContent.toLowerCase() === 'outbound') {
                setTimeout(() => {
                    startOutboundAnimations();
                }, 1600);
            }
        });

        // Navigation
        document.querySelectorAll('.nav-item').forEach(item => {
            item.addEventListener('click', (e) => {
                e.preventDefault();
                document.querySelectorAll('.nav-item').forEach(nav => nav.classList.remove('active'));
                item.classList.add('active');
                
                const page = item.textContent.toLowerCase();
                showPage(page);
            });
        });

        function showPage(page) {
            const main = document.querySelector('.main');
            
            if (page === 'dashboard') {
                main.innerHTML = `
                    <section class="hero">
                        <h1>Intelligente Terminverwaltung</h1>
                        <p>KI ruft automatisch wartende Patienten an, sobald ein Termin frei wird – nahtlos und effizient</p>
                    </section>

                    <section class="stats-grid">
                        <div class="stat-card">
                            <div class="stat-number" id="activeCallsCount">3</div>
                            <div class="stat-label">Aktive Anrufe</div>
                            <div class="stat-change">+2 in letzten 5 Min</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-number" id="waitingPatientsCount">17</div>
                            <div class="stat-label">Wartende Patienten</div>
                            <div class="stat-change">-5 heute vermittelt</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-number" id="filledSlotsCount">12</div>
                            <div class="stat-label">Heute gefüllte Slots</div>
                            <div class="stat-change">+8 vs. gestern</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-number" id="successRateCount">94%</div>
                            <div class="stat-label">Erfolgsquote</div>
                            <div class="stat-change">+2% diese Woche</div>
                        </div>
                    </section>

                    <section class="process-flow">
                        <div class="process-step active">
                            <div class="process-icon">📅</div>
                            <div class="process-title">Absage erkannt</div>
                            <div class="process-subtitle">Termin wird frei</div>
                        </div>
                        <div class="process-step active">
                            <div class="process-icon">🔍</div>
                            <div class="process-title">Patient gefunden</div>
                            <div class="process-subtitle">Warteliste durchsucht</div>
                        </div>
                        <div class="process-step active">
                            <div class="process-icon">📞</div>
                            <div class="process-title">Anruf läuft</div>
                            <div class="process-subtitle">KI kontaktiert Patient</div>
                        </div>
                        <div class="process-step">
                            <div class="process-icon">✅</div>
                            <div class="process-title">Termin bestätigt</div>
                            <div class="process-subtitle">Slot erfolgreich gefüllt</div>
                        </div>
                    </section>

                    <section class="live-section">
                        <h2 class="section-title">
                            <span class="live-indicator"></span>
                            Live Activity
                        </h2>
                        <div class="activity-feed" id="activityFeed">
                            <div class="activity-item">
                                <div class="activity-icon calling">📞</div>
                                <div class="activity-content">
                                    <div class="activity-title">Anna Weber wird angerufen</div>
                                    <div class="activity-subtitle">Freier Slot: Heute 14:30 • Dr. Müller</div>
                                </div>
                                <div class="activity-time">vor 12s</div>
                            </div>
                            <div class="activity-item">
                                <div class="activity-icon success">✓</div>
                                <div class="activity-content">
                                    <div class="activity-title">Termin neu vergeben</div>
                                    <div class="activity-subtitle">Frau Kowalski • Abgesagter Slot 16:15 sofort neu besetzt</div>
                                </div>
                                <div class="activity-time">vor 45s</div>
                            </div>
                            <div class="activity-item">
                                <div class="activity-icon scheduling">📅</div>
                                <div class="activity-content">
                                    <div class="activity-title">Termin bestätigt</div>
                                    <div class="activity-subtitle">Klaus Richter • Morgen 09:15</div>
                                </div>
                                <div class="activity-time">vor 1m</div>
                            </div>
                            <div class="activity-item">
                                <div class="activity-icon calling">🌍</div>
                                <div class="activity-content">
                                    <div class="activity-title">Sprache erkannt</div>
                                    <div class="activity-subtitle">Türkisch • Automatisch auf Muttersprache gewechselt</div>
                                </div>
                                <div class="activity-time">vor 2m</div>
                            </div>
                            <div class="activity-item">
                                <div class="activity-icon success">✓</div>
                                <div class="activity-content">
                                    <div class="activity-title">Termin neu vergeben</div>
                                    <div class="activity-subtitle">Herr Rossi • Wartender Patient für heute 17:00 eingeteilt</div>
                                </div>
                                <div class="activity-time">vor 2m</div>
                            </div>
                            <div class="activity-item">
                                <div class="activity-icon waiting">⏳</div>
                                <div class="activity-content">
                                    <div class="activity-title">Neuer Patient auf Warteliste</div>
                                    <div class="activity-subtitle">Maria Schmidt • Präferenz: Nachmittags</div>
                                </div>
                                <div class="activity-time">vor 3m</div>
                            </div>
                        </div>
                    </section>
                `;
                
                // Animate stats
                animateAllStats();
            } else if (page === 'outbound') {
                main.innerHTML = `
                    <section class="hero animate-fade-in">
                        <h1>Outbound Kampagnen</h1>
                        <p>Proaktive Patientenkommunikation für Termine, Erinnerungen und Follow-ups</p>
                    </section>

                    <section class="stats-grid">
                        <div class="stat-card animate-slide-up" style="animation-delay: 0.1s">
                            <div class="stat-number">156</div>
                            <div class="stat-label">Heute kontaktiert</div>
                            <div class="stat-change">+23% vs. gestern</div>
                        </div>
                        <div class="stat-card animate-slide-up" style="animation-delay: 0.2s">
                            <div class="stat-number">89%</div>
                            <div class="stat-label">Erreichbarkeitsrate</div>
                            <div class="stat-change">+5% diese Woche</div>
                        </div>
                        <div class="stat-card animate-slide-up" style="animation-delay: 0.3s">
                            <div class="stat-number">42</div>
                            <div class="stat-label">Termine bestätigt</div>
                            <div class="stat-change">+12 heute</div>
                        </div>
                        <div class="stat-card animate-slide-up" style="animation-delay: 0.4s">
                            <div class="stat-number" style="color: #00ff88;">247</div>
                            <div class="stat-label">Termine neu vergeben</div>
                            <div class="stat-change" style="color: #00ff88;">+52 diese Woche</div>
                        </div>
                    </section>

                    <section class="live-section animate-fade-in" style="animation-delay: 0.6s">
                        <h2 class="section-title">
                            <span class="live-indicator"></span>
                            Live Outbound Anrufe
                        </h2>
                        <div class="outbound-feed" id="outboundFeed">
                            <!-- Wird dynamisch gefüllt -->
                        </div>
                    </section>

                    <section class="live-section animate-fade-in" style="animation-delay: 0.8s">
                        <h2 class="section-title">Anruf-Performance</h2>
                        <div class="stats-grid" style="grid-template-columns: repeat(3, 1fr); gap: 1rem;">
                            <div class="stat-card animate-slide-up" style="animation-delay: 1.0s">
                                <div class="stat-number" style="font-size: 2rem; color: #00ff88;">96%</div>
                                <div class="stat-label" style="font-size: 0.9rem;">Erfolgsquote</div>
                                <div class="stat-change" style="font-size: 0.8rem;">+3% vs. Vorwoche</div>
                            </div>
                            <div class="stat-card animate-slide-up" style="animation-delay: 1.1s">
                                <div class="stat-number" style="font-size: 2rem; color: #00ff88;">23</div>
                                <div class="stat-label" style="font-size: 0.9rem;">Outbound Anrufe</div>
                                <div class="stat-change" style="font-size: 0.8rem;">+8 diese Woche</div>
                            </div>
                            <div class="stat-card animate-slide-up" style="animation-delay: 1.2s">
                                <div class="stat-number" style="font-size: 2rem;">300</div>
                                <div class="stat-label" style="font-size: 0.9rem;">Anrufe gesamt</div>
                                <div class="stat-change" style="font-size: 0.8rem;">+18% vs. Vorwoche</div>
                            </div>
                        </div>
                    </section>
                `;
                
                // Animate stats
                animateAllStats();
                
                // Starte Outbound-Animationen
                setTimeout(() => {
                    startOutboundAnimations();
                }, 100); // Reduziert für schnelleren Start
            } else if (page === 'customization') {
                main.innerHTML = `
                    <section class="hero">
                        <h1>Anpassungen</h1>
                        <p>Konfiguriere deine KI-Assistentin für optimale Patientenkommunikation</p>
                    </section>

                    <section class="stats-grid">
                        <div class="stat-card">
                            <div class="stat-number">12</div>
                            <div class="stat-label">Aktive Vorlagen</div>
                            <div class="stat-change">Gesprächsführung</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-number">5</div>
                            <div class="stat-label">Sprachen</div>
                            <div class="stat-change">DE, EN, FR, IT, ES</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-number">3</div>
                            <div class="stat-label">Stimmen</div>
                            <div class="stat-change">Weiblich, Männlich</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-number">24/7</div>
                            <div class="stat-label">Verfügbarkeit</div>
                            <div class="stat-change">Immer erreichbar</div>
                        </div>
                    </section>

                    <section class="live-section">
                        <h2 class="section-title">Konfiguration</h2>
                        <div class="activity-feed">
                            <div class="activity-item">
                                <div class="activity-icon scheduling">⚙️</div>
                                <div class="activity-content">
                                    <div class="activity-title">Gesprächsvorlagen</div>
                                    <div class="activity-subtitle">Begrüßung, Terminbestätigung, Absage</div>
                                </div>
                                <div class="activity-time">aktiv</div>
                            </div>
                            <div class="activity-item">
                                <div class="activity-icon calling">🎤</div>
                                <div class="activity-content">
                                    <div class="activity-title">Stimme & Sprache</div>
                                    <div class="activity-subtitle">Natürlich, freundlich, professionell</div>
                                </div>
                                <div class="activity-time">konfiguriert</div>
                            </div>
                            <div class="activity-item">
                                <div class="activity-icon waiting">🕐</div>
                                <div class="activity-content">
                                    <div class="activity-title">Arbeitszeiten</div>
                                    <div class="activity-subtitle">Mo-Fr 08:00-18:00, Sa 09:00-13:00</div>
                                </div>
                                <div class="activity-time">aktiv</div>
                            </div>
                        </div>
                    </section>
                `;
                
                // Animate stats
                animateAllStats();
            } else if (page === 'stats') {
                main.innerHTML = `
                    <section class="hero">
                        <h1>Statistiken & Analytics</h1>
                        <p>Detaillierte Einblicke in die Performance deiner Telefon-KI</p>
                    </section>

                    <section class="stats-grid">
                        <div class="stat-card">
                            <div class="stat-number">300</div>
                            <div class="stat-label">Anrufe diese Woche</div>
                            <div class="stat-change">+18% vs. letzte Woche</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-number">277</div>
                            <div class="stat-label">Inbound Anrufe</div>
                            <div class="stat-change">+15% vs. letzte Woche</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-number" style="color: #00ff88;">23</div>
                            <div class="stat-label">Outbound Anrufe</div>
                            <div class="stat-change" style="color: #00ff88;">+8 diese Woche</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-number">96.2%</div>
                            <div class="stat-label">Erfolgsquote</div>
                            <div class="stat-change">+2.1% Verbesserung</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-number">€2,340</div>
                            <div class="stat-label">Kosteneinsparung</div>
                            <div class="stat-change">vs. manuell</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-number" style="color: #00ff88;">23</div>
                            <div class="stat-label">Termine neu vergeben</div>
                            <div class="stat-change" style="color: #00ff88;">+8 diese Woche</div>
                        </div>
                    </section>

                    <section class="live-section">
                        <h2 class="section-title">Wochenübersicht - Termine neu vergeben</h2>
                        <div class="stats-grid" style="grid-template-columns: repeat(7, 1fr); gap: 1rem; margin-bottom: 3rem;">
                            <div class="stat-card">
                                <div class="stat-number" style="font-size: 1.8rem;">4</div>
                                <div class="stat-label" style="font-size: 0.8rem;">Montag</div>
                                <div class="stat-change" style="font-size: 0.7rem;">+1 vs. Vorwoche</div>
                            </div>
                            <div class="stat-card">
                                <div class="stat-number" style="font-size: 1.8rem;">6</div>
                                <div class="stat-label" style="font-size: 0.8rem;">Dienstag</div>
                                <div class="stat-change" style="font-size: 0.7rem;">+2 vs. Vorwoche</div>
                            </div>
                            <div class="stat-card">
                                <div class="stat-number" style="font-size: 1.8rem;">3</div>
                                <div class="stat-label" style="font-size: 0.8rem;">Mittwoch</div>
                                <div class="stat-change" style="font-size: 0.7rem;">+1 vs. Vorwoche</div>
                            </div>
                            <div class="stat-card">
                                <div class="stat-number" style="font-size: 1.8rem;">5</div>
                                <div class="stat-label" style="font-size: 0.8rem;">Donnerstag</div>
                                <div class="stat-change" style="font-size: 0.7rem;">+2 vs. Vorwoche</div>
                            </div>
                            <div class="stat-card">
                                <div class="stat-number" style="font-size: 1.8rem;">4</div>
                                <div class="stat-label" style="font-size: 0.8rem;">Freitag</div>
                                <div class="stat-change" style="font-size: 0.7rem;">+1 vs. Vorwoche</div>
                            </div>
                            <div class="stat-card">
                                <div class="stat-number" style="font-size: 1.8rem;">1</div>
                                <div class="stat-label" style="font-size: 0.8rem;">Samstag</div>
                                <div class="stat-change" style="font-size: 0.7rem;">+1 vs. Vorwoche</div>
                            </div>
                            <div class="stat-card">
                                <div class="stat-number" style="font-size: 1.8rem;">0</div>
                                <div class="stat-label" style="font-size: 0.8rem;">Sonntag</div>
                                <div class="stat-change" style="font-size: 0.7rem;">±0 vs. Vorwoche</div>
                            </div>
                        </div>
                    </section>

                    <section class="live-section">
                        <h2 class="section-title">Performance Metriken</h2>
                        <div class="activity-feed">
                            <div class="activity-item">
                                <div class="activity-icon scheduling">📊</div>
                                <div class="activity-content">
                                    <div class="activity-title">Anrufvolumen</div>
                                    <div class="activity-subtitle">Peak: 14:00-16:00 • 89 Anrufe/Stunde</div>
                                </div>
                                <div class="activity-time">heute</div>
                            </div>
                            <div class="activity-item">
                                <div class="activity-icon calling">⭐</div>
                                <div class="activity-content">
                                    <div class="activity-title">Patientenzufriedenheit</div>
                                    <div class="activity-subtitle">4.8/5 Sterne • 234 Bewertungen</div>
                                </div>
                                <div class="activity-time">diese Woche</div>
                            </div>
                            <div class="activity-item">
                                <div class="activity-icon waiting">💰</div>
                                <div class="activity-content">
                                    <div class="activity-title">ROI</div>
                                    <div class="activity-subtitle">340% Return on Investment</div>
                                </div>
                                <div class="activity-time">letzter Monat</div>
                            </div>
                            <div class="activity-item">
                                <div class="activity-icon success">✓</div>
                                <div class="activity-content">
                                    <div class="activity-title">Automatisierungsgrad</div>
                                    <div class="activity-subtitle">98.7% aller Termine ohne manuellen Eingriff</div>
                                </div>
                                <div class="activity-time">laufend</div>
                            </div>
                            <div class="activity-item">
                                <div class="activity-icon calling">🌍</div>
                                <div class="activity-content">
                                    <div class="activity-title">Mehrsprachigkeit</div>
                                    <div class="activity-subtitle">89 Sprachen • Automatische Erkennung in 0.2s</div>
                                </div>
                                <div class="activity-time">aktiv</div>
                            </div>
                            <div class="activity-item">
                                <div class="activity-icon scheduling">⚡</div>
                                <div class="activity-content">
                                    <div class="activity-title">Reaktionsgeschwindigkeit</div>
                                    <div class="activity-subtitle">Termin-Neuvergabe in durchschnittlich 1.8 Sekunden</div>
                                </div>
                                <div class="activity-time">Echtzeit</div>
                            </div>
                        </div>
                    </section>
                `;
                
                // Animate stats
                animateAllStats();
            }
        }
    </script>
</body>
</html>
